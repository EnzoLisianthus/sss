-- SleekUILib.lua
local TweenService = game:GetService("TweenService")

local Library = {}

local function Create(class, props)
    local inst = Instance.new(class)
    for i, v in pairs(props) do
        inst[i] = v
    end
    return inst
end

local function AddUICorner(obj, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, radius or 8)
    corner.Parent = obj
end

local function AddUIStroke(obj, thickness)
    local stroke = Instance.new("UIStroke")
    stroke.Thickness = thickness or 1
    stroke.Color = Color3.fromRGB(60, 60, 60)
    stroke.Parent = obj
end

function Library:CreateWindow(title)
    local Player = game.Players.LocalPlayer

    local Gui = Instance.new("ScreenGui", Player:WaitForChild("PlayerGui"))
    Gui.Name = "SleekUILib"
    Gui.ResetOnSpawn = false

    local Main = Create("Frame", {
        Size = UDim2.new(0, 520, 0, 360),
        Position = UDim2.new(0.5, -260, 0.5, -180),
        BackgroundColor3 = Color3.fromRGB(30, 30, 30),
        BorderSizePixel = 0,
        Parent = Gui
    })
    AddUICorner(Main, 10)
    AddUIStroke(Main, 1)

    local Title = Create("TextLabel", {
        Size = UDim2.new(1, 0, 0, 30),
        BackgroundColor3 = Color3.fromRGB(20, 20, 20),
        Text = title or "Sleek UI",
        TextColor3 = Color3.new(1, 1, 1),
        Font = Enum.Font.GothamBold,
        TextSize = 16,
        Parent = Main
    })
    AddUICorner(Title, 10)

    local Tabs = Create("Frame", {
        Size = UDim2.new(0, 120, 1, -30),
        Position = UDim2.new(0, 0, 0, 30),
        BackgroundColor3 = Color3.fromRGB(25, 25, 25),
        Parent = Main
    })
    AddUICorner(Tabs, 8)

    local Pages = Create("Frame", {
        Size = UDim2.new(1, -130, 1, -40),
        Position = UDim2.new(0, 130, 0, 35),
        BackgroundTransparency = 1,
        Parent = Main
    })

    local TabListLayout = Instance.new("UIListLayout", Tabs)
    TabListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    TabListLayout.Padding = UDim.new(0, 5)

    local TabButtons = {}
    local currentPage = nil

    function Library:CreateTab(name)
        local btn = Create("TextButton", {
            Size = UDim2.new(1, -10, 0, 32),
            BackgroundColor3 = Color3.fromRGB(40, 40, 40),
            Text = name,
            TextColor3 = Color3.new(1, 1, 1),
            Font = Enum.Font.Gotham,
            TextSize = 14,
            Parent = Tabs
        })
        AddUICorner(btn, 6)
        AddUIStroke(btn, 1)

        local page = Create("ScrollingFrame", {
            Size = UDim2.new(1, 0, 1, 0),
            CanvasSize = UDim2.new(0, 0, 0, 0),
            ScrollBarThickness = 6,
            Visible = false,
            BackgroundTransparency = 1,
            Parent = Pages
        })

        local layout = Instance.new("UIListLayout", page)
        layout.Padding = UDim.new(0, 6)
        layout.SortOrder = Enum.SortOrder.LayoutOrder

        layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            page.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
        end)

        table.insert(TabButtons, {Button = btn, Page = page})

        btn.MouseButton1Click:Connect(function()
            for _, tab in pairs(TabButtons) do
                tab.Page.Visible = false
            end
            page.Visible = true
        end)

        if not currentPage then
            page.Visible = true
            currentPage = page
        end

        return {
            AddButton = function(_, text, callback)
                local button = Create("TextButton", {
                    Size = UDim2.new(1, -10, 0, 36),
                    BackgroundColor3 = Color3.fromRGB(45, 45, 45),
                    Text = text,
                    TextColor3 = Color3.new(1, 1, 1),
                    Font = Enum.Font.GothamMedium,
                    TextSize = 14,
                    Parent = page
                })
                AddUICorner(button, 6)
                AddUIStroke(button, 1)

                button.MouseButton1Click:Connect(function()
                    callback()
                    TweenService:Create(button, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(65, 65, 65)}):Play()
                    task.wait(0.1)
                    TweenService:Create(button, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(45, 45, 45)}):Play()
                end)
            end
        }
    end

    return Library
end

return Library
